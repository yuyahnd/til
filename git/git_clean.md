# git clean

git-clean - Remove untracked files from the working tree

# SYNOPSIS

```
git clean [-d] [-f] [-i] [-n] [-q] [-e <pattern>] [-x | -X] [--] [<pathspec>…​]
```

# 説明

現在のディレクトリから始めて、バージョン管理下にないファイルを再帰的に削除して、作業ツリーをクリーンアップします。

通常、Git に不明なファイルのみが削除されますが、-x オプションが指定されている場合は、無視されるファイルも削除されます。これは、たとえば、すべてのビルド製品を削除する場合に役立ちます。
オプションの <pathspec>... 引数が指定されている場合は、pathspec に一致するパスのみが影響を受けます。

# OPTIONS

* -d  
通常、\<pathspec> が指定されていない場合、git clean は削除しすぎないように、追跡されていないディレクトリを再帰的に実行しません。そのようなディレクトリも再帰的に実行するようにするには、-d を指定します。  
\<pathspec> が指定されている場合、-d は無関係です。指定されたパスに一致する追跡されていないすべてのファイル (--force で指定されたネストされた git ディレクトリを除く) が削除されます。

* -f<br>--force  
Git 構成変数 clean.requireForce が false に設定されていない場合、git clean は -f が指定されない限りファイルまたはディレクトリの削除を拒否します。Git は、2 番目の -f が指定されない限り、追跡されていないネストされた git リポジトリ (.git サブディレクトリを含むディレクトリ) の変更を拒否します。

* -i<br>--interactive  
何が行われるかを表示し、対話的にファイルをクリーンアップします。詳細については、「対話モード」を参照してください。このモードでは対話的に実行することで独自の安全保護が提供されるため、構成変数 clean.requireForce は無視されます。

* -n<br>--dry-run  
実際には何も削除せず、何が行われるかを示すだけです。何も削除されないため、構成変数 clean.requireForce は無視されます。

* -q<br>--quiet  
静かに、エラーのみを報告し、正常に削除されたファイルは報告しません。

* -e \<pattern><br>--exclude=\<pattern>  
標準の無視ルールに加えて、指定された除外パターンを使用します（gitignoreを参照）。

* -x  
標準の無視ルール (gitignore[5] を参照) は使用せず、コマンドラインから -e オプションで指定された無視ルールを使用します。これにより、ビルド製品を含むすべての追跡されていないファイルを削除できます。これは、クリーンビルドをテストするための純粋な作業ディレクトリを作成するために使用できます (git restore または git reset と組み合わせて使用​​できます)。

* -X  
Git によって無視されたファイルのみを削除します。これは、すべてを最初から再構築し、手動で作成されたファイルを保持する場合に便利です。

## Interactive mode
コマンドが対話モードに入ると、クリーンアップするファイルとディレクトリが表示され、対話型コマンド ループに入ります。

コマンド ループは、使用可能なサブコマンドのリストを表示し、プロンプト「What now>」を表示します。通常、プロンプトが単一の > で終わる場合は、次のように、選択肢の 1 つだけを選択して、リターン キーを入力できます。

```
    *** Commands ***
	1: clean                2: filter by pattern    3: select by numbers
	4: ask each             5: quit                 6: help
    What now> 1
```

選択が一意である限り、上記の c または clean を使用することもできます。

メイン コマンド ループには 6 つのサブコマンドがあります。

* clean  
ファイルとディレクトリのクリーンアップを開始し、終了します。

* filter by pattern  
削除するファイルとディレクトリが表示され、「無視するパターンを入力>>」プロンプトが表示されます。スペースで区切られたパターンを入力すると、ファイルとディレクトリを削除から除外できます。たとえば、「*.c *.h」は、「.c」と「.h」で終わるファイルを削除から除外します。フィルタリングされた結果に満足したら、ENTER (空) を押してメイン メニューに戻ります。

* select by numbers  
削除するファイルとディレクトリが表示され、「削除する項目を選択してください>>」というプロンプトが表示されます。プロンプトがこのように二重の >> で終わる場合は、空白またはカンマで連結して複数の選択を行うことができます。また、範囲を言うこともできます。たとえば、「2-5 7,9」と入力すると、リストから 2、3、4、5、7、9 を選択します。範囲の 2 番目の数字を省略すると、残りのすべての項目が選択されます。たとえば、「7-」と入力すると、リストから 7、8、9 を選択します。* と入力すると、すべてを選択できます。また、フィルタリングされた結果に満足したら、ENTER (空) を押してメイン メニューに戻ります。
